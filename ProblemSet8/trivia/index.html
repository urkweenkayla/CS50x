<!DOCTYPE html>

<html lang="en">

    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>
        <script>
            // TODO: Add code to check answers to questions
            document.addEventListener('DOMContentLoaded', function() {
                document.querySelector('form').addEventListener('submit', (e) => {
                    let correctAnswers = ['franz kafka', 'kafka', 'f kafka', 'f. kafka']
                    let answer = document.querySelector('input').value
                    let answerDiv = document.getElementById('answer-submission')
                    let text = document.getElementById('answerTruthyness3')
                    answer = answer.toLowerCase()
                    for (let i = 0; i < correctAnswers.length; i++) {
                        if (answer == correctAnswers[i]) {
                            answerDiv.classList.add('correct')
                            answerDiv.classList.remove('incorrect')
                             document.getElementById('answerTruthyness3').innerText = 'Correct'
                            break
                        } else {
                            answerDiv.classList.add('incorrect')
                            answerDiv.classList.remove('correct')
                             document.getElementById('answerTruthyness3').innerText = 'Incorrect'
                        }
                    }
                    e.preventDefault()
                })
            })
        </script>
    </head>

    <body>
        <div class="header">
            <h1>Trivia!</h1>
        </div>

        <div class="container">
            <div class="section" id="multiple-choice">
                <h2>Part 1: Multiple Choice </h2>
                <hr>
                <!-- TODO: Add multiple choice question here -->
                <h3 id="q1">As Gregor Samsa awoke one morning from unsettling dreams, what did he find himself
                    transformed into?
                </h3>
                <p id="answerTruthyness1"></p>
                <button id="1a" onclick="incorrect('1a')">
                    A monstrous bettle
                </button>
                <button id="1b" onclick="incorrect('1b')">
                    A monstrous cockroach
                </button>
                <button id="1c" onclick="correct('1c')">
                    A monstrous vermin
                </button>
                <h3 id="q2">In 1836, which famous philosopher wrote, "I have just returned from a party of which I was
                    the life
                    and soul; witty banter flowed from my lips, everyone laughed and admired me- but I came away, indeed
                    that dash should be as long as the radii of earth's orbit ------------------ wanting to shoot
                    myself"?
                </h3>
                <p id="answerTruthyness2"></p>
                <button id="2a" onclick="incorrect('2a')">
                    Nietzsche
                </button>
                <button id="2b" onclick="correct('2b')">
                    Kierkegaard
                </button>
                <button id="2c" onclick="incorrect('2c')">
                    Schopenhauer
                </button>
                <script>
                    const answerIds = ['1a', '1b', '1c', '2a', '2b', '2c']

                    function correct(id) {
                        let button = document.getElementById(id)
                        let paragraph
                        if (id[0] == 1) {
                            paragraph = document.getElementById('answerTruthyness1')
                            document.getElementById('answerTruthyness2').innerText = ''
                        } else {
                            paragraph = document.getElementById('answerTruthyness2')
                            document.getElementById('answerTruthyness1').innerText = ''
                        }
                        for (let i = 0; i < answerIds.length; i++) {
                            let otherButton = document.getElementById(answerIds[i])
                            if (i == id) {
                                i++
                            }
                            otherButton.classList.remove('incorrect')
                        }
                        button.classList.add('correct')
                        paragraph.innerText = 'Correct'
                    }
                    function incorrect(id) {
                        let button = document.getElementById(id)
                        let paragraph
                        if (id[0] == 1) {
                            paragraph = document.getElementById('answerTruthyness1')
                            document.getElementById('answerTruthyness2').innerText = ''
                        } else {
                            paragraph = document.getElementById('answerTruthyness2')
                            document.getElementById('answerTruthyness1').innerText = ''
                        }
                        for (let i = 0; i < answerIds.length; i++) {
                            let otherButton = document.getElementById(answerIds[i])
                            if (i == id) {
                                i++
                            }
                            otherButton.classList.remove('correct')
                            otherButton.classList.remove('incorrect')
                        }
                        button.classList.add('incorrect')
                        paragraph.innerText = 'Incorrect'
                    }
                </script>
            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>
                <!-- TODO: Add free response question here -->
                <h3>Who is the author of the quote mentioned in the first trivia question?</h3>
                <p id="answerTruthyness3"></p>
                <form>
                    <input autocomplete="off" name="answer-submission" id="answer-submission" type="text">
                    <input type="submit">
                </form>
            </div>
        </div>
    </body>

</html>
